<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SebastianHub - WhatsApp Marketplace</title>
    
    <link rel="stylesheet" href="style.css">

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

    <script src="app.js" defer></script>

    <style>
        /* SPINNER ANIMATION */
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #25D366;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* DARK MODE SUPPORT FOR LOADER */
        body.dark-mode #loader {
            background: rgba(0, 0, 0, 0.8) !important;
        }
    </style>
</head>
<body>

    <div class="app-container">
        <div style="text-align: right; margin-bottom: 10px;">
            <button id="dark-mode-toggle" onclick="toggleDarkMode()" style="width: auto; padding: 8px 15px; font-size: 12px; background: #666; border-radius: 20px;">☀️ Light Mode</button>
        </div>

        <header>
            <h1>SebastianHub</h1>
            <p>Your local marketplace. Sell on WhatsApp.</p>
        </header>

        <main id="auth-section">
            <div class="card">
                <h2 id="auth-title">Create Store Account</h2>
                
                <div class="input-group">
                    <input type="email" id="email" placeholder="Email Address">
                    <input type="password" id="password" placeholder="Password (min 6 chars)">
                </div>

                <div id="terms-container" style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px; font-size: 13px; text-align: left; color: #555;">
                    <input type="checkbox" id="terms-checkbox" style="width: auto; margin: 0;">
                    <span>I agree to the <a href="terms.html" style="color: #25D366; text-decoration: underline;">Terms & Conditions</a></span>
                </div>

                <button id="auth-btn" onclick="handleAuth()">Sign Up</button>
                
                <div id="spam-tip" style="margin-top: 15px; background: rgba(230, 126, 34, 0.1); padding: 10px; border-radius: 10px; border: 1px dashed #e67e22;">
                    <p style="font-size: 11px; color: #d35400; line-height: 1.4; margin: 0;">
                        ⚠️ <strong>Pro Tip:</strong> If you don't see our email, please check your <strong>Spam or Junk folder</strong> and mark it as "Not Spam".
                    </p>
                </div>

                <div style="margin-top: 15px; font-size: 13px; text-align: center; display: flex; justify-content: center; gap: 20px;">
                    <a href="#" onclick="forgotPassword()" style="color: #666; text-decoration: none;">Forgot Password?</a>
                    <a href="#" onclick="resendVerification()" style="color: #25D366; text-decoration: none; font-weight: bold;">Resend Email?</a>
                </div>
                
                <p id="toggle-text" onclick="toggleAuth()" style="margin-top: 20px;">
                    Already a seller? <strong>Login here</strong>
                </p>
            </div>
        </main>

        <footer>
            <div style="margin-bottom: 15px; font-size: 12px; color: #888;">
                Need help? <a href="https://wa.me/2348053103234" target="_blank" style="color: #25D366; text-decoration: none; font-weight: bold;">Contact Support on WhatsApp</a>
            </div>
            <p>&copy; 2026 SebastianHub</p>
        </footer>
    </div>

    <div id="loader" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(255,255,255,0.9); z-index:9999; flex-direction:column; align-items:center; justify-content:center;">
        <div class="spinner"></div>
        <p style="margin-top:15px; font-weight:bold; color:#25D366; font-family: sans-serif;">Authenticating...</p>
    </div>

</body>
</html>
